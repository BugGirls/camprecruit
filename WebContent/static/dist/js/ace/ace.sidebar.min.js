(function($,undefined){var sidebar_count=0;function Sidebar(sidebar,options){var self=this;this.$sidebar=$(sidebar);this.$sidebar.attr("data-sidebar","true");if(!this.$sidebar.attr("id")){this.$sidebar.attr("id","id-sidebar-"+(++sidebar_count))}var duration=options.duration||ace.helper.intAttr(sidebar,"data-submenu-duration")||300;this.minimized=false;this.collapsible=false;this.horizontal=false;this.mobile_view=false;this.vars=function(){return{"minimized":this.minimized,"collapsible":this.collapsible,"horizontal":this.horizontal,"mobile_view":this.mobile_view}};this.get=function(name){if(this.hasOwnProperty(name)){return this[name]}};this.set=function(name,value){if(this.hasOwnProperty(name)){this[name]=value}};this.ref=function(){return this};var toggleIcon=function(minimized){var icon=$(this).find(ace.vars[".icon"]),icon1,icon2;if(icon.length>0){icon1=icon.attr("data-icon1");icon2=icon.attr("data-icon2");if(minimized!==undefined){if(minimized){icon.removeClass(icon1).addClass(icon2)}else{icon.removeClass(icon2).addClass(icon1)}}else{icon.toggleClass(icon1).toggleClass(icon2)}}};var findToggleBtn=function(){var toggle_btn=self.$sidebar.find(".sidebar-collapse");if(toggle_btn.length==0){toggle_btn=$('.sidebar-collapse[data-target="#'+(self.$sidebar.attr("id")||"")+'"]')}if(toggle_btn.length!=0){toggle_btn=toggle_btn[0]}else{toggle_btn=null}return toggle_btn};this.toggleMenu=function(toggle_btn,save){if(this.collapsible){return}this.minimized=!this.minimized;try{ace.settings.sidebar_collapsed(sidebar,this.minimized,!(toggle_btn===false||save===false))}catch(e){if(this.minimized){this.$sidebar.addClass("menu-min")}else{this.$sidebar.removeClass("menu-min")}}if(!toggle_btn){toggle_btn=findToggleBtn()}if(toggle_btn){toggleIcon.call(toggle_btn,this.minimized)}if(ace.vars["old_ie"]){ace.helper.redraw(sidebar)}};this.collapse=function(toggle_btn,save){if(this.collapsible){return}this.minimized=false;this.toggleMenu(toggle_btn,save)};this.expand=function(toggle_btn,save){if(this.collapsible){return}this.minimized=true;this.toggleMenu(toggle_btn,save)};this.toggleResponsive=function(toggle_btn){if(!this.mobile_view||this.mobile_style!=3){return}if(this.$sidebar.hasClass("menu-min")){this.$sidebar.removeClass("menu-min");var btn=findToggleBtn();if(btn){toggleIcon.call(btn)}}this.minimized=!this.$sidebar.hasClass("responsive-min");this.$sidebar.toggleClass("responsive-min responsive-max");if(!toggle_btn){toggle_btn=this.$sidebar.find(".sidebar-expand");if(toggle_btn.length==0){toggle_btn=$('.sidebar-expand[data-target="#'+(this.$sidebar.attr("id")||"")+'"]')}if(toggle_btn.length!=0){toggle_btn=toggle_btn[0]}else{toggle_btn=null}}if(toggle_btn){var icon=$(toggle_btn).find(ace.vars[".icon"]),icon1,icon2;if(icon.length>0){icon1=icon.attr("data-icon1");icon2=icon.attr("data-icon2");icon.toggleClass(icon1).toggleClass(icon2)}}$(document).triggerHandler("settings.ace",["sidebar_collapsed",this.minimized])};this.is_collapsible=function(){var toggle;return(this.$sidebar.hasClass("navbar-collapse"))&&((toggle=$('.navbar-toggle[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))!=null)&&toggle.scrollHeight>0};this.is_mobile_view=function(){var toggle;return((toggle=$('.menu-toggler[data-target="#'+(this.$sidebar.attr("id")||"")+'"]').get(0))!=null)&&toggle.scrollHeight>0};this.$sidebar.on(ace.click_event+".ace.submenu",".nav-list",function(ev){var nav_list=this;var link_element=$(ev.target).closest("a");if(!link_element||link_element.length==0){return}var minimized=self.minimized&&!self.collapsible;if(!link_element.hasClass("dropdown-toggle")){if(ace.click_event=="tap"&&minimized&&link_element.get(0).parentNode.parentNode==nav_list){var text=link_element.find(".menu-text").get(0);if(text!=null&&ev.target!=text&&!$.contains(text,ev.target)){ev.preventDefault();return false}}if(ace.vars["ios_safari"]&&link_element.attr("data-link")!=="false"){document.location=link_element.attr("href");ev.preventDefault();return false}return}ev.preventDefault();var sub=link_element.siblings(".submenu").get(0);if(!sub){return false}var $sub=$(sub);var height_change=0;var parent_ul=sub.parentNode.parentNode;if((minimized&&parent_ul==nav_list)||(($sub.parent().hasClass("hover")&&$sub.css("position")=="absolute")&&!self.collapsible)){return false}var sub_hidden=(sub.scrollHeight==0);if(sub_hidden){$(parent_ul).find("> .open > .submenu").each(function(){if(this!=sub&&!$(this.parentNode).hasClass("active")){height_change-=this.scrollHeight;self.hide(this,duration,false)}})}if(sub_hidden){self.show(sub,duration);if(height_change!=0){height_change+=sub.scrollHeight}}else{self.hide(sub,duration);height_change-=sub.scrollHeight}if(height_change!=0){if(self.$sidebar.attr("data-sidebar-scroll")=="true"&&!self.minimized){self.$sidebar.ace_sidebar_scroll("prehide",height_change)}}return false});var submenu_working=false;this.show=function(sub,$duration,wait){if(wait!==false){if(submenu_working){return false}submenu_working=true}$duration=$duration||duration;var $sub=$(sub);var event;$sub.trigger(event=$.Event("show.ace.submenu"));if(event.isDefaultPrevented()){return false}$sub.css({height:0,overflow:"hidden",display:"block"}).removeClass("nav-hide").addClass("nav-show").parent().addClass("open");sub.scrollTop=0;if($duration>0){$sub.css({height:sub.scrollHeight,"transition-property":"height","transition-duration":($duration/1000)+"s"})}var complete=function(ev,trigger){ev&&ev.stopPropagation();$sub.css({"transition-property":"","transition-duration":"",overflow:"",height:""});if(trigger!==false){$sub.trigger($.Event("shown.ace.submenu"))}if(wait!==false){submenu_working=false}};if($duration>0&&!!$.support.transition.end){$sub.one($.support.transition.end,complete)}else{complete()}if(ace.vars["android"]){setTimeout(function(){complete(null,false);ace.helper.redraw(sub)},$duration+20)}return true};this.hide=function(sub,$duration,wait){if(wait!==false){if(submenu_working){return false}submenu_working=true}$duration=$duration||duration;var $sub=$(sub);var event;$sub.trigger(event=$.Event("hide.ace.submenu"));if(event.isDefaultPrevented()){return false}$sub.css({height:sub.scrollHeight,overflow:"hidden",display:"block"}).parent().removeClass("open");sub.offsetHeight;if($duration>0){$sub.css({"height":0,"transition-property":"height","transition-duration":($duration/1000)+"s"})}var complete=function(ev,trigger){ev&&ev.stopPropagation();$sub.css({display:"none",overflow:"",height:"","transition-property":"","transition-duration":""}).removeClass("nav-show").addClass("nav-hide");if(trigger!==false){$sub.trigger($.Event("hidden.ace.submenu"))}if(wait!==false){submenu_working=false}};if($duration>0&&!!$.support.transition.end){$sub.one($.support.transition.end,complete)}else{complete()}if(ace.vars["android"]){setTimeout(function(){complete(null,false);ace.helper.redraw(sub)},$duration+20)}return true};this.toggle=function(sub,$duration){$duration=$duration||duration;if(sub.scrollHeight==0){if(this.show(sub,$duration)){return 1}}else{if(this.hide(sub,$duration)){return -1}}return 0};var minimized_menu_class="menu-min";var responsive_min_class="responsive-min";var horizontal_menu_class="h-sidebar";var sidebar_mobile_style=function(){this.mobile_style=1;if(this.$sidebar.hasClass("responsive")&&!$('.menu-toggler[data-target="#'+this.$sidebar.attr("id")+'"]').hasClass("navbar-toggle")){this.mobile_style=2}else{if(this.$sidebar.hasClass(responsive_min_class)){this.mobile_style=3}else{if(this.$sidebar.hasClass("navbar-collapse")){this.mobile_style=4}}}};sidebar_mobile_style.call(self);function update_vars(){this.mobile_view=this.mobile_style<4&&this.is_mobile_view();this.collapsible=!this.mobile_view&&this.is_collapsible();this.minimized=(!this.collapsible&&this.$sidebar.hasClass(minimized_menu_class))||(this.mobile_style==3&&this.mobile_view&&this.$sidebar.hasClass(responsive_min_class));this.horizontal=!(this.mobile_view||this.collapsible)&&this.$sidebar.hasClass(horizontal_menu_class)}$(window).on("resize.sidebar.vars",function(){update_vars.call(self)}).triggerHandler("resize.sidebar.vars")}$(document).on(ace.click_event+".ace.menu",".menu-toggler",function(e){var btn=$(this);var sidebar=$(btn.attr("data-target"));if(sidebar.length==0){return}e.preventDefault();sidebar.toggleClass("display");btn.toggleClass("display");var click_event=ace.click_event+".ace.autohide";var auto_hide=sidebar.attr("data-auto-hide")==="true";if(btn.hasClass("display")){if(auto_hide){$(document).on(click_event,function(ev){if(sidebar.get(0)==ev.target||$.contains(sidebar.get(0),ev.target)){ev.stopPropagation();return}sidebar.removeClass("display");btn.removeClass("display");$(document).off(click_event)})}if(sidebar.attr("data-sidebar-scroll")=="true"){sidebar.ace_sidebar_scroll("reset")}}else{if(auto_hide){$(document).off(click_event)}}return false}).on(ace.click_event+".ace.menu",".sidebar-collapse",function(e){var target=$(this).attr("data-target"),$sidebar=null;if(target){$sidebar=$(target)}if($sidebar==null||$sidebar.length==0){$sidebar=$(this).closest(".sidebar")}if($sidebar.length==0){return}e.preventDefault();$sidebar.ace_sidebar("toggleMenu",this)}).on(ace.click_event+".ace.menu",".sidebar-expand",function(e){var target=$(this).attr("data-target"),$sidebar=null;if(target){$sidebar=$(target)}if($sidebar==null||$sidebar.length==0){$sidebar=$(this).closest(".sidebar")}if($sidebar.length==0){return}var btn=this;e.preventDefault();$sidebar.ace_sidebar("toggleResponsive",this);var click_event=ace.click_event+".ace.autohide";if($sidebar.attr("data-auto-hide")==="true"){if($sidebar.hasClass("responsive-max")){$(document).on(click_event,function(ev){if($sidebar.get(0)==ev.target||$.contains($sidebar.get(0),ev.target)){ev.stopPropagation();return}$sidebar.ace_sidebar("toggleResponsive",btn);$(document).off(click_event)})}else{$(document).off(click_event)}}});$.fn.ace_sidebar=function(option,value){var method_call;var $set=this.each(function(){var $this=$(this);var data=$this.data("ace_sidebar");var options=typeof option==="object"&&option;if(!data){$this.data("ace_sidebar",(data=new Sidebar(this,options)))}if(typeof option==="string"&&typeof data[option]==="function"){if(value instanceof Array){method_call=data[option].apply(data,value)}else{method_call=data[option](value)}}});return(method_call===undefined)?$set:method_call}})(window.jQuery);